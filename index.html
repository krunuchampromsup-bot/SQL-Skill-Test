<!DOCTYPE html><html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>à¸£à¸°à¸šà¸šà¸ªà¸­à¸š SQL + AR | à¸›à¸§à¸Š.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.6.2/sql-wasm.js"></script>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    textarea { width: 100%; height: 120px; }
    .hidden { display:none; }
    .box { border:1px solid #ccc; padding:15px; margin-bottom:20px; border-radius:10px; }
  </style>
</head>
<body><h1>ğŸ“˜ à¸£à¸°à¸šà¸šà¹€à¸£à¸µà¸¢à¸™â€“à¸ªà¸­à¸š SQL VIEW & Subquery (à¸›à¸§à¸Š.)</h1><div class="box">
  <label>ğŸ‘¤ à¸Šà¸·à¹ˆà¸­à¸™à¸±à¸à¹€à¸£à¸µà¸¢à¸™: <input id="studentName" /></label>
  <button onclick="startExam()">à¹€à¸£à¸´à¹ˆà¸¡à¸ªà¸­à¸š</button>
</div><div id="exam" class="hidden">
  <div class="box">
    â± à¹€à¸§à¸¥à¸²à¹€à¸«à¸¥à¸·à¸­: <span id="timer">10:00</span>
  </div>  <div class="box">
    <h3>à¸‚à¹‰à¸­ 1: à¸ªà¸£à¹‰à¸²à¸‡ VIEW student_view</h3>
    <textarea id="q1"></textarea>
    <button onclick="checkQ1()">à¸•à¸£à¸§à¸ˆà¸„à¸³à¸•à¸­à¸š</button>
    <p id="r1"></p>
  </div>  <div class="box">
    <h3>ğŸ“Š à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡</h3>
    <p id="score">0</p>
    <button onclick="finishExam()">à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸ªà¸­à¸š</button>
  </div>
</div><hr/>
<h2>ğŸ“± à¹‚à¸«à¸¡à¸” AR (à¸ªà¹à¸à¸™ Marker)</h2>
<a-scene mindar-image="imageTargetSrc: markers.mind;" embedded>
  <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
  <a-entity mindar-image-target="targetIndex: 0">
    <a-text value="CPU : FP1â€“FP4" position="0 0 0" color="red"></a-text>
  </a-entity>
</a-scene><script>
let score = 0;
let time = 600;
let timerInterval;

function startExam(){
  if(!studentName.value){ alert('à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­'); return; }
  document.getElementById('exam').classList.remove('hidden');
  timerInterval = setInterval(()=>{
    time--;
    document.getElementById('timer').innerText = Math.floor(time/60)+":"+(time%60).toString().padStart(2,'0');
    if(time<=0) finishExam();
  },1000);
}

function checkQ1(){
  let sql = document.getElementById('q1').value.toLowerCase();
  if(sql.includes('create view')){
    score += 10;
    document.getElementById('r1').innerText = 'âœ” à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡';
    document.getElementById('score').innerText = score;
  } else {
    document.getElementById('r1').innerText = 'âœ˜ à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸–à¸¹à¸';
  }
}

function finishExam(){
  clearInterval(timerInterval);
  localStorage.setItem(studentName.value, score);
  alert('à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸ªà¸­à¸šà¹à¸¥à¹‰à¸§ à¸„à¸°à¹à¸™à¸™: '+score);
}
</script></body>
</html>
